---
id: SPEC-PLAYER-001
type: acceptance-criteria
version: "1.0.0"
created: "2026-01-07"
---

# SPEC-PLAYER-001: 인수 기준

## 1. 프로그레스 바 기능

### AC-001: 프로그레스 바 표시

**시나리오:** 오디오 재생 시 프로그레스 바 표시

```gherkin
Given 사용자가 연습 세션 페이지에 있다
And 세그먼트 오디오가 로드되어 있다
When 오디오가 재생된다
Then 프로그레스 바가 표시되어야 한다
And 현재 재생 시간이 "0:00" 형식으로 표시되어야 한다
And 총 오디오 시간이 "0:00" 형식으로 표시되어야 한다
And 프로그레스 바가 실시간으로 업데이트되어야 한다
```

### AC-002: 프로그레스 바 클릭 시크

**시나리오:** 프로그레스 바 클릭으로 재생 위치 이동

```gherkin
Given 오디오가 재생 중이다
And 오디오 총 길이가 90초이다
When 사용자가 프로그레스 바의 50% 지점을 클릭한다
Then 오디오 재생 위치가 45초로 이동해야 한다
And 현재 시간 표시가 "0:45"로 업데이트되어야 한다
And 오디오가 해당 위치부터 계속 재생되어야 한다
```

### AC-003: 프로그레스 바 드래그 시크

**시나리오:** 프로그레스 바 드래그로 재생 위치 이동

```gherkin
Given 오디오가 재생 중이다
When 사용자가 프로그레스 바 핸들을 드래그한다
Then 드래그 중 오디오가 끊기지 않아야 한다
And 드래그 종료 시 해당 위치로 시크되어야 한다
And 드래그 전 재생 중이었다면 시크 후 재생이 재개되어야 한다
```

### AC-004: 로딩 상태 프로그레스 바

**시나리오:** 오디오 로딩 중 프로그레스 바 상태

```gherkin
Given 새로운 세그먼트가 선택되었다
When TTS 오디오가 생성 중이다
Then 프로그레스 바에 로딩 인디케이터가 표시되어야 한다
And 프로그레스 바 상호작용이 비활성화되어야 한다
When 오디오 로딩이 완료된다
Then 프로그레스 바가 정상 상태로 전환되어야 한다
```

---

## 2. 볼륨 조절 기능

### AC-005: 볼륨 슬라이더 조절

**시나리오:** 볼륨 슬라이더로 볼륨 조절

```gherkin
Given 사용자가 연습 세션 페이지에 있다
And 오디오가 재생 중이다
When 사용자가 볼륨 슬라이더를 50%로 조절한다
Then 오디오 볼륨이 50%로 즉시 변경되어야 한다
And 볼륨 아이콘이 "볼륨 낮음" 상태로 변경되어야 한다
```

### AC-006: 음소거 토글

**시나리오:** 볼륨 아이콘 클릭으로 음소거

```gherkin
Given 오디오가 재생 중이다
And 현재 볼륨이 80%이다
When 사용자가 볼륨 아이콘을 클릭한다
Then 오디오가 음소거되어야 한다
And 볼륨 아이콘이 "음소거" 상태로 변경되어야 한다
When 사용자가 볼륨 아이콘을 다시 클릭한다
Then 오디오 볼륨이 80%로 복원되어야 한다
And 볼륨 아이콘이 이전 상태로 복원되어야 한다
```

### AC-007: 볼륨 아이콘 상태

**시나리오:** 볼륨 레벨에 따른 아이콘 변경

```gherkin
Given 사용자가 연습 세션 페이지에 있다
When 볼륨이 0%이다
Then 볼륨 아이콘이 "음소거" 상태여야 한다

When 볼륨이 1% ~ 49%이다
Then 볼륨 아이콘이 "볼륨 낮음" 상태여야 한다

When 볼륨이 50% ~ 100%이다
Then 볼륨 아이콘이 "볼륨 높음" 상태여야 한다
```

### AC-008: 모바일 볼륨 컨트롤

**시나리오:** 모바일 환경에서 볼륨 컨트롤 처리

```gherkin
Given 사용자가 모바일 기기를 사용 중이다
And 화면 너비가 768px 미만이다
When 연습 세션 페이지를 로드한다
Then 볼륨 슬라이더가 숨겨져야 한다
And 시스템 볼륨으로 오디오 볼륨이 제어되어야 한다
```

### AC-009: 볼륨 설정 유지

**시나리오:** 볼륨 설정이 세션 간 유지

```gherkin
Given 사용자가 볼륨을 70%로 설정했다
When 사용자가 페이지를 새로고침한다
Then 볼륨 설정이 70%로 유지되어야 한다
And 볼륨 슬라이더가 70% 위치에 있어야 한다
```

---

## 3. 텍스트 하이라이트 기능

### AC-010: 현재 세그먼트 하이라이트

**시나리오:** 재생 중인 세그먼트 시각적 강조

```gherkin
Given 사용자가 연습 세션 페이지에 있다
And 5개의 세그먼트가 있다
When 3번째 세그먼트가 재생된다
Then AudioPlayer 영역에 3번째 세그먼트 텍스트가 강조 표시되어야 한다
And SegmentList에서 3번째 세그먼트가 시각적으로 구분되어야 한다
And 하이라이트가 명확한 배경색 또는 테두리로 표시되어야 한다
```

### AC-011: 하이라이트 전환 애니메이션

**시나리오:** 세그먼트 변경 시 애니메이션

```gherkin
Given 2번째 세그먼트가 재생 중이다
When 3번째 세그먼트로 이동한다
Then 2번째 세그먼트의 하이라이트가 페이드 아웃되어야 한다
And 3번째 세그먼트의 하이라이트가 페이드 인되어야 한다
And 전환 애니메이션이 300ms 이내에 완료되어야 한다
```

### AC-012: SegmentList 자동 스크롤

**시나리오:** 현재 세그먼트로 자동 스크롤

```gherkin
Given 20개의 세그먼트가 있다
And SegmentList가 스크롤 가능하다
When 15번째 세그먼트가 재생된다
Then SegmentList가 15번째 세그먼트가 보이도록 자동 스크롤되어야 한다
And 현재 세그먼트가 리스트 중앙 근처에 위치해야 한다
```

### AC-013: 사용자 스크롤 우선

**시나리오:** 사용자 수동 스크롤 시 자동 스크롤 비활성화

```gherkin
Given 자동 스크롤이 활성화되어 있다
When 사용자가 SegmentList를 수동으로 스크롤한다
Then 자동 스크롤이 비활성화되어야 한다
And 사용자 스크롤이 방해받지 않아야 한다
When 3초가 경과한다
Then 자동 스크롤이 다시 활성화되어야 한다
```

---

## 4. 키보드 접근성

### AC-014: 키보드 시크

**시나리오:** 방향키로 오디오 시크

```gherkin
Given 오디오가 재생 중이다
And AudioPlayer가 포커스되어 있다
When 사용자가 오른쪽 방향키를 누른다
Then 오디오가 5초 앞으로 시크되어야 한다

When 사용자가 왼쪽 방향키를 누른다
Then 오디오가 5초 뒤로 시크되어야 한다
```

### AC-015: Tab 네비게이션

**시나리오:** Tab 키로 컨트롤 간 이동

```gherkin
Given 사용자가 연습 세션 페이지에 있다
When 사용자가 Tab 키를 누른다
Then 포커스가 논리적 순서로 이동해야 한다
And 포커스 순서: 이전 버튼 -> 재생 버튼 -> 정지 버튼 -> 다음 버튼 -> 볼륨 -> 프로그레스 바
And 각 컨트롤에 시각적 포커스 인디케이터가 표시되어야 한다
```

### AC-016: 스크린 리더 지원

**시나리오:** 스크린 리더로 플레이어 사용

```gherkin
Given 스크린 리더가 활성화되어 있다
When 스크린 리더가 프로그레스 바를 읽는다
Then "재생 진행률, 15초 / 90초, 슬라이더" 형식으로 읽어야 한다

When 스크린 리더가 볼륨 컨트롤을 읽는다
Then "볼륨, 80%, 슬라이더" 형식으로 읽어야 한다

When 스크린 리더가 현재 세그먼트를 읽는다
Then 세그먼트 번호와 텍스트 내용을 읽어야 한다
```

---

## 5. 모바일 터치 지원

### AC-017: 터치 타겟 크기

**시나리오:** 터치 타겟 접근성 준수

```gherkin
Given 사용자가 모바일 기기를 사용 중이다
When 모든 버튼과 컨트롤을 검사한다
Then 모든 터치 타겟이 최소 44x44px이어야 한다
And 충분한 간격으로 오터치를 방지해야 한다
```

### AC-018: 더블 탭 시크 (선택적)

**시나리오:** 더블 탭으로 빠른 시크

```gherkin
Given 오디오가 재생 중이다
When 사용자가 플레이어 오른쪽 영역을 더블 탭한다
Then 오디오가 10초 앞으로 시크되어야 한다

When 사용자가 플레이어 왼쪽 영역을 더블 탭한다
Then 오디오가 10초 뒤로 시크되어야 한다
```

---

## 6. 성능 요구사항

### AC-019: UI 응답 시간

**시나리오:** 컨트롤 응답 속도

```gherkin
Given 사용자가 연습 세션 페이지에 있다
When 사용자가 재생/일시정지 버튼을 클릭한다
Then 100ms 이내에 UI가 업데이트되어야 한다

When 사용자가 볼륨 슬라이더를 조절한다
Then 볼륨 변경이 즉시(16ms 이내) 적용되어야 한다
```

### AC-020: 프로그레스 바 부드러운 업데이트

**시나리오:** 프로그레스 바 애니메이션 성능

```gherkin
Given 오디오가 재생 중이다
When 프로그레스 바가 실시간으로 업데이트된다
Then 업데이트가 60fps (16ms 간격)으로 부드럽게 이루어져야 한다
And CPU 사용률이 5% 미만이어야 한다
And 배터리 소모가 현저히 증가하지 않아야 한다
```

### AC-021: 하이라이트 애니메이션 성능

**시나리오:** 애니메이션이 성능에 미치는 영향

```gherkin
Given 세그먼트가 변경되어 하이라이트 애니메이션이 실행된다
When 애니메이션이 진행된다
Then 프레임 드롭이 발생하지 않아야 한다
And 애니메이션이 GPU 가속을 활용해야 한다
And 애니메이션 완료 후 불필요한 리렌더링이 없어야 한다
```

---

## 7. 에러 처리

### AC-022: 시크 실패 처리

**시나리오:** 시크 작업 실패 시 복구

```gherkin
Given 오디오가 재생 중이다
When 시크 작업이 실패한다
Then 이전 재생 위치로 복원되어야 한다
And 사용자에게 에러 알림이 표시되어야 한다
And 오디오 재생이 계속 가능해야 한다
```

### AC-023: 볼륨 저장 실패 처리

**시나리오:** localStorage 저장 실패

```gherkin
Given localStorage가 비활성화되어 있다
When 사용자가 볼륨을 변경한다
Then 볼륨 변경이 현재 세션에서는 적용되어야 한다
And 다음 세션에서 기본값으로 초기화되어야 한다
And 에러가 조용히 처리되어야 한다
```

---

## 8. Definition of Done

### 기능적 완료 조건

- [x] 모든 인수 기준(AC-001 ~ AC-023) 통과
- [x] 데스크톱 Chrome, Safari, Firefox 테스트 완료
- [x] 모바일 Chrome, Safari 테스트 완료

### 품질 완료 조건

- [x] 단위 테스트 커버리지 85% 이상 (95.19% 달성)
- [x] E2E 테스트 핵심 시나리오 커버
- [x] Lighthouse 접근성 점수 90 이상
- [x] ESLint 경고 0개

### 문서 완료 조건

- [x] 컴포넌트 API 문서화
- [x] 접근성 가이드 문서화
- [x] SPEC 상태 "implemented"로 업데이트

---

*Document Version: 1.0.0*
*Created: 2026-01-07*
