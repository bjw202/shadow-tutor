---
id: SPEC-MODE-001
title: "학습 모드 인수 조건"
status: "implemented"
created: "2026-01-07"
updated: "2026-01-07"
---

# SPEC-MODE-001: 학습 모드 인수 조건

## 추적성

- **SPEC 문서**: [spec.md](./spec.md)
- **구현 계획**: [plan.md](./plan.md)

---

## 연속 재생 모드 시나리오

### AC-001: 연속 모드 선택

**Given** (초기 상태)
- 사용자가 Shadow Tutor 애플리케이션에 접속해 있다
- 오디오 세션이 로드되어 있다
- 현재 쉐도잉 모드가 선택되어 있다

**When** (사용자 액션)
- 사용자가 "연속 재생" 탭을 클릭한다

**Then** (기대 결과)
- 모드가 "연속 재생"으로 전환된다
- 모드 선택기에서 "연속 재생" 탭이 활성화 표시된다
- 쉐도잉 관련 UI(타이머, 설정)가 숨겨진다
- localStorage에 모드 설정이 저장된다

---

### AC-002: 연속 모드 자동 진행

**Given** (초기 상태)
- 연속 재생 모드가 선택되어 있다
- 세그먼트 2/5가 재생 중이다

**When** (사용자 액션)
- 세그먼트 2 재생이 완료된다

**Then** (기대 결과)
- 세그먼트 3이 자동으로 재생 시작된다
- 세그먼트 인디케이터가 3/5로 업데이트된다
- 일시정지 없이 즉시 전환된다

---

### AC-003: 마지막 세그먼트 처리

**Given** (초기 상태)
- 연속 재생 모드가 선택되어 있다
- 마지막 세그먼트(5/5)가 재생 중이다

**When** (사용자 액션)
- 마지막 세그먼트 재생이 완료된다

**Then** (기대 결과)
- 재생이 정지된다
- 재생 버튼이 "재생" 상태로 변경된다
- "완료" 또는 "처음부터" 옵션이 표시된다 (선택적)

---

## 쉐도잉 모드 시나리오

### AC-004: 쉐도잉 모드 선택

**Given** (초기 상태)
- 사용자가 Shadow Tutor 애플리케이션에 접속해 있다
- 오디오 세션이 로드되어 있다
- 현재 연속 재생 모드가 선택되어 있다

**When** (사용자 액션)
- 사용자가 "쉐도잉" 탭을 클릭한다

**Then** (기대 결과)
- 모드가 "쉐도잉"으로 전환된다
- 모드 선택기에서 "쉐도잉" 탭이 활성화 표시된다
- 쉐도잉 설정 패널이 표시된다 (또는 접근 가능)
- localStorage에 모드 설정이 저장된다

---

### AC-005: 쉐도잉 일시정지 및 타이머

**Given** (초기 상태)
- 쉐도잉 모드가 선택되어 있다
- 일시정지 시간이 5초로 설정되어 있다
- 세그먼트가 재생 중이다

**When** (사용자 액션)
- 세그먼트 재생이 완료된다

**Then** (기대 결과)
- 일시정지 상태로 전환된다
- 카운트다운 타이머(5초)가 화면에 표시된다
- 타이머가 초 단위로 감소한다
- "건너뛰기" 버튼이 표시된다
- 볼륨 조절이 여전히 가능하다

---

### AC-006: 쉐도잉 건너뛰기

**Given** (초기 상태)
- 쉐도잉 모드에서 일시정지 중이다
- 카운트다운 타이머가 3초 남아 있다

**When** (사용자 액션)
- 사용자가 "건너뛰기" 버튼을 클릭한다

**Then** (기대 결과)
- 타이머가 즉시 종료된다
- 다음 세그먼트로 이동한다 (또는 반복 로직 실행)
- 일시정지 UI가 사라진다

---

### AC-007: 반복 횟수 처리

**Given** (초기 상태)
- 쉐도잉 모드가 선택되어 있다
- 반복 횟수가 3회로 설정되어 있다
- 현재 반복 횟수가 1/3이다
- 세그먼트 재생이 완료되고 타이머가 종료되었다

**When** (사용자 액션)
- 타이머가 자동으로 완료된다

**Then** (기대 결과)
- 현재 반복 횟수가 2/3으로 증가한다
- 같은 세그먼트가 다시 재생된다
- 반복 진행률이 업데이트된다 (선택적)

---

### AC-007b: 반복 완료 후 다음 세그먼트

**Given** (초기 상태)
- 쉐도잉 모드가 선택되어 있다
- 반복 횟수가 3회로 설정되어 있다
- 현재 반복 횟수가 3/3이다
- 타이머가 종료되었다

**When** (사용자 액션)
- 마지막 반복 후 타이머가 완료된다

**Then** (기대 결과)
- 반복 횟수가 1로 초기화된다
- 다음 세그먼트로 이동한다
- 다음 세그먼트 재생이 시작된다

---

## 설정 시나리오

### AC-008: 설정 저장 및 복원

**Given** (초기 상태)
- 쉐도잉 모드가 선택되어 있다
- 사용자가 다음 설정을 변경했다:
  - 일시정지 시간: 10초
  - 반복 횟수: 2회
  - 자동 진행: 비활성화

**When** (사용자 액션)
- 사용자가 페이지를 새로고침한다

**Then** (기대 결과)
- 쉐도잉 모드가 유지된다
- 일시정지 시간이 10초로 표시된다
- 반복 횟수가 2회로 표시된다
- 자동 진행이 비활성화 상태이다

---

### AC-009: 모드 전환 시 오디오 초기화

**Given** (초기 상태)
- 연속 재생 모드에서 세그먼트 3/5 재생 중이다

**When** (사용자 액션)
- 사용자가 쉐도잉 모드로 전환한다

**Then** (기대 결과)
- 현재 재생 중인 오디오가 정지된다
- 세그먼트 인덱스는 3으로 유지된다 (또는 초기화 옵션)
- 쉐도잉 모드 UI가 표시된다

---

## 접근성 시나리오

### AC-010: 키보드 네비게이션

**Given** (초기 상태)
- 사용자가 키보드만 사용하고 있다
- 모드 선택기에 포커스가 있다

**When** (사용자 액션)
- 사용자가 Tab/Arrow 키로 이동한다
- 사용자가 Enter/Space로 선택한다

**Then** (기대 결과)
- 모든 인터랙티브 요소에 접근 가능하다
- 포커스 상태가 시각적으로 표시된다
- 모드 전환이 키보드로 가능하다

---

### AC-011: 스크린 리더 지원

**Given** (초기 상태)
- 스크린 리더가 활성화되어 있다
- 쉐도잉 모드에서 타이머가 진행 중이다

**When** (사용자 액션)
- 타이머가 매초 업데이트된다

**Then** (기대 결과)
- aria-live 영역을 통해 중요 변경사항이 알려진다
- 모드 상태가 명확히 읽힌다
- 버튼 레이블이 적절히 제공된다

---

## 에러 처리 시나리오

### AC-012: 오디오 로딩 중 모드 전환 시도

**Given** (초기 상태)
- 오디오가 로딩 중이다

**When** (사용자 액션)
- 사용자가 모드를 전환하려고 시도한다

**Then** (기대 결과)
- 모드 선택기가 비활성화 상태로 표시된다
- 툴팁 또는 시각적 피드백으로 이유 설명
- 로딩 완료 후 자동으로 활성화된다

---

### AC-013: 세션 없을 때 모드 선택

**Given** (초기 상태)
- 오디오 세션이 로드되지 않았다

**When** (사용자 액션)
- 사용자가 모드 선택기를 확인한다

**Then** (기대 결과)
- 모드 선택기가 비활성화 상태이다
- "세션을 먼저 로드하세요" 메시지 표시

---

## 모바일 시나리오

### AC-014: 모바일 설정 패널

**Given** (초기 상태)
- 화면 너비가 768px 미만이다
- 쉐도잉 모드가 선택되어 있다

**When** (사용자 액션)
- 설정 패널 영역을 확인한다

**Then** (기대 결과)
- 설정 패널이 접힌 상태로 표시된다
- "설정" 버튼 또는 아이콘으로 펼칠 수 있다
- 터치 타겟이 44px 이상이다

---

## Definition of Done

- [x] 모든 AC 시나리오 통과
- [x] 단위 테스트 커버리지 >= 85% (달성: 95.95%)
- [x] WCAG 2.1 AA 접근성 검증 통과
- [x] 모바일 반응형 테스트 통과
- [x] 성능 메트릭 충족 (모드 전환 < 100ms)
- [x] 코드 리뷰 완료
- [x] 문서화 완료

---

## 추적성

- **관련 SPEC**: SPEC-MODE-001
- **EARS 요구사항 매핑**:
  - AC-001 → ED-001, ED-002
  - AC-002 → ED-003, SD-001
  - AC-003 → ED-009
  - AC-004 → ED-002, SD-002
  - AC-005 → ED-004, SD-003
  - AC-006 → ED-006
  - AC-007 → ED-010, SD-005
  - AC-008 → UR-002, UB-004
  - AC-009 → UR-005
  - AC-010, AC-011 → UR-004
  - AC-012 → SD-007
  - AC-013 → SD-008
  - AC-014 → SD-006, UR-003
